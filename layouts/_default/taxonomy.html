{{ define "main" }}
  {{ $plurals := dict "General Representative" "General Reps" "Officers" "Officers" "College Representative" "College Reps" "NUS Delegate" "NUS Delegates" }}
  <header class="page-hero">
    {{ $raw := .Title | humanize | title }}
    <h1 class="page-title">{{ with (index $plurals $raw) }}{{ . }}{{ else }}{{ $raw }}{{ end }}</h1>
    {{ with .Content }}
      <div class="prose">{{ . }}</div>
    {{ else }}
      {{ with .Params.description }}<p class="lede">{{ . }}</p>{{ else }}{{ with (index site.Data.roles (.Title | humanize)) }}<p class="lede">{{ . }}</p>{{ end }}{{ end }}
    {{ end }}
  </header>

  <section class="grid">
    {{ range .Pages }}
      <article class="card">
        <a class="card-media" href="{{ .Permalink }}" aria-label="Read {{ .Title }} policies">
          {{ $p := . }}
          {{ with $p.Params.photo }}
            <img src="{{ . }}" alt="{{ $p.Title }}" loading="lazy" />
          {{ else }}
            <div class="img-placeholder" aria-hidden="true"></div>
          {{ end }}
        </a>
        <div class="card-body">
          <h2 class="card-title"><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
          {{ with .Params.position }}
            <p class="muted">{{ . }}</p>
          {{ end }}
          {{ with .Params.role_types }}
            <div class="badges">
              {{ range . }}<span class="badge">{{ . }}</span>{{ end }}
            </div>
          {{ end }}
          <a class="button button-primary" href="{{ .Permalink }}">View policies</a>
        </div>
      </article>
    {{ end }}
  </section>
{{ end }}
