<header class="site-header">
    <div class="container">
    <a class="ticket-name" href="{{ .Site.BaseURL }}" aria-label="{{ .Site.Params.ticket_name }}">
      <img class="site-logo" src="{{ "images/logos/3.png" | absURL }}" alt="{{ .Site.Params.ticket_name }} logo" />
    </a>
        <button class="nav-toggle" aria-expanded="false" aria-controls="topnav">Menu</button>

        <nav class="top-nav" id="topnav">
          <ul>
            {{ $shortNames := dict "General Representative" "General Reps" "Officers" "Officers" "College Representative" "College Reps" "ANU Council" "ANU Council" "NUS Delegate" "NUS Delegates" "Executive" "Executive" }}
            {{ $order := cond (isset site.Home.Params "role_order") site.Home.Params.role_order (slice "Executive" "General Representative" "Officers" "College Representative" "ANU Council" "NUS Delegate") }}
            {{ range $order }}
              {{ $name := . }}
              {{ $k1 := $name | urlize }}
              {{ $k2 := $name | lower }}
              {{ $term := or (index site.Taxonomies.role_types $k1) (index site.Taxonomies.role_types $k2) (index site.Taxonomies.role_types $name) }}
              {{ if $term }}
                <li class="dropdown">
                  <a href="{{ $term.Page.Permalink }}" class="dropbtn">{{ index $shortNames $name }}</a>
                  <div class="dropdown-content" role="menu">
                      {{ $pages := $term.Pages }}
                      {{ $sorted := sort $pages (printf "Params.role_weights.%s" $name) "asc" }}
                    {{/* Only show weighted order */}}
                      {{ range $sorted }}
                        <a href="{{ .RelPermalink }}" role="menuitem">{{ .Title }}</a>
                      {{ end }}
                  </div>
                </li>
              {{ end }}
            {{ end }}
          </ul>
        </nav>
    </div>
  
</header>