/*
  Modern campaign theme styles
  - dark, high-contrast with accent
  - responsive grid & cards
  - accessible focus & motion
*/

/* Base */
* { box-sizing: border-box }
html, body { height: 100% }
body {
  margin: 0;
  /* Smooth background: solid brand color with a subtle top fade */
  background: var(--primary-color);
  background-image: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0) 220px);
  background-repeat: no-repeat;
  color: var(--secondary-color);
  font-family: var(--body-font);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container {
  max-width: var(--container-w);
  margin: 0 auto;
  padding: 2rem 1.2rem;
}

/* Typography */
.page-title {
  font-family: var(--logo-font);
  letter-spacing: .5px;
  font-size: clamp(2rem, 1.2rem + 3vw, 3.2rem);
  line-height: 1.1;
  margin: 0 0 .5rem 0;
}
.lede { color: #cfd3dc; max-width: 60ch; margin: .25rem 0 1.5rem }
.muted { color: #b6bbc6 }
.prose { color: #f3f4f6; font-size: 1.05rem }
.prose h2 { font-family: var(--logo-font); margin-top: 2rem }
.prose h3 { margin-top: 1.2rem }
.prose p, .prose li { color: #e8eaf0 }
.page-hero { padding-top: .4rem; margin-bottom: 1.2rem }
.hero-ctas { display: flex; gap: .6rem; flex-wrap: wrap; margin-top: .6rem }
.section-title { font-family: var(--logo-font); font-size: clamp(1.4rem, 1rem + 1.6vw, 2rem); margin: 1.2rem 0 .6rem }
.role-title { font-family: var(--logo-font); font-size: 1.2rem; margin: 1.6rem 0 .6rem; color: #e8eaf0 }

/* Policy scroller */
.policy-section { margin: 1.4rem 0 2rem }
.policy-scroller { display: grid; grid-auto-flow: column; grid-auto-columns: minmax(260px, 1fr); gap: .9rem; overflow-x: auto; padding-bottom: .4rem; scroll-snap-type: x mandatory }
.policy-scroller::-webkit-scrollbar { height: 8px }
.policy-scroller::-webkit-scrollbar-thumb { background: rgba(255,255,255,.18); border-radius: 10px }
.policy-card { scroll-snap-align: start; background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); border: 1px solid rgba(255,255,255,.10); border-radius: var(--radius); padding: 1rem; box-shadow: var(--shadow-2) }
.policy-card h3 { margin: 0 0 .3rem; font-size: 1.1rem; color: #fff }
.policy-card p { margin: 0; color: #dbe0ea }

/* Role groups in team section */
.team-section { margin-top: 1.8rem }
.role-group + .role-group { margin-top: 1.4rem }

/* Header */
.site-header {
  position: sticky;
  top: 0;
  backdrop-filter: saturate(1.1) blur(8px);
  background: linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.2));
  border-bottom: 1px solid rgba(255,255,255,.12);
  z-index: 50;
}
.site-header .container { display: flex; align-items: center; justify-content: space-between; gap: 1rem; padding: .8rem 1.2rem }
.ticket-name {
  font-family: var(--logo-font);
  text-decoration: none;
  color: var(--secondary-color);
  font-size: clamp(1.4rem, 1.1rem + 1vw, 2rem);
  letter-spacing: .8px;
}

/* Top nav (desktop) */
.top-nav ul { list-style: none; margin: 0; padding: 0; display: flex; gap: .4rem; align-items: center }
.dropbtn { display: inline-flex; align-items: center; gap: .4rem; padding: .55rem .8rem; border-radius: var(--radius-sm); color: var(--secondary-color); text-decoration: none; font-weight: 700; font-size: .95rem; border: 1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.06) }
.dropdown {
  position: relative;
  z-index: 100;
}
.dropdown-content {
  display: none;
  position: absolute;
  right: 0;
  top: calc(100% + 6px);
  background: #0f1116;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 12px;
  min-width: 240px;
  box-shadow: var(--shadow-1);
  overflow: hidden;
  pointer-events: auto;
  z-index: 101;
}
.dropdown-content a { color: #e5e7eb; padding: .75rem .9rem; display: block; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,.06) }
.dropdown-content a:hover { background: rgba(255,255,255,.06) }
.top-nav ul {
  position: relative;
  z-index: 10;
  display: flex;
  justify-content: center;
  gap: 0.8rem;
}

/* Make dropdown-content visible when parent or itself is hovered */
.dropdown:hover .dropdown-content,
.dropdown:focus-within .dropdown-content,
.dropdown-content:hover {
  display: block;
}
.dropdown:hover .dropbtn { background: var(--secondary-color); color: var(--primary-color) }

/* Ensure dropdown stays open when hovering over content */
.dropdown:hover .dropdown-content,
.dropdown-content:hover {
  display: block;
}
.dropbtn {
  min-width: 120px;
  max-width: 180px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  text-align: center;
}

/* Mobile nav toggle */
.nav-toggle { display: none; background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.14); color: #fff; padding: .55rem .7rem; border-radius: 10px }
@media (max-width: 800px) {
  .top-nav { display: none }
  .top-nav.open { display: block }
  .top-nav ul { flex-direction: column; align-items: stretch; gap: .2rem; padding-top: .6rem }
  .dropdown { width: 100% }
  .dropdown-content { position: static; display: block; box-shadow: none; border: 1px solid rgba(255,255,255,.1); margin-top: .4rem }
  .nav-toggle { display: inline-flex }
}

/* Grid & Cards */
.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 1.2rem;
}
.card {
  grid-column: span 4;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.10);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-2);
  display: flex; flex-direction: column;
}
.card-media { aspect-ratio: 4/3; display: block; background: #0c0f14 }
.card-media img { width: 100%; height: 100%; object-fit: cover; display: block }
.img-placeholder { width: 100%; height: 100%; background: repeating-linear-gradient(45deg, rgba(255,255,255,.06) 0 10px, rgba(255,255,255,.03) 10px 20px) }
.card-body { padding: 1rem 1rem 1.1rem; display: grid; gap: .6rem }
.card-title { margin: 0; font-family: var(--logo-font); font-size: 1.4rem }
.card-title a { color: var(--secondary-color); text-decoration: none }
.muted + .badges { margin-top: .1rem }

@media (max-width: 1100px) { .card { grid-column: span 6 } }
@media (max-width: 700px) { .card { grid-column: span 12 } .card-media { aspect-ratio: 16/9 } }

/* Buttons & badges */
.button { --btn-bg: rgba(255,255,255,.08); --btn-brd: rgba(255,255,255,.16); --btn-fg: #fff; display: inline-flex; align-items: center; gap: .5rem; padding: .55rem .9rem; border-radius: 999px; text-decoration: none; color: var(--btn-fg); border: 1px solid var(--btn-brd); background: var(--btn-bg); transition: transform .08s ease, background .2s ease }
.button:hover { transform: translateY(-1px); background: rgba(255,255,255,.14) }
.button-primary { --btn-bg: linear-gradient(90deg, var(--accent-color), #ff6b3d); --btn-brd: rgba(255,255,255,.18) }
.badges { display: flex; flex-wrap: wrap; gap: .4rem }
.badge { font-size: .78rem; padding: .22rem .5rem; border-radius: 999px; border: 1px solid rgba(255,255,255,.16); background: rgba(255,255,255,.08); color: #e8eaf0 }

/* Candidate single layout */
.candidate-layout { display: grid; grid-template-columns: 340px 1fr; gap: 1.6rem }
.candidate-aside { position: sticky; top: 84px; align-self: start; display: grid; gap: .8rem }
.candidate-photo { width: 100%; height: auto; border-radius: var(--radius); box-shadow: var(--shadow-2); border: 1px solid rgba(255,255,255,.12) }
.candidate-main { min-width: 0 }
@media (max-width: 900px) {
  .candidate-layout { grid-template-columns: 1fr; }
  .candidate-aside { position: static; }
}

/* Footer */
.site-footer {
  text-align: center;
  padding: 2rem 0 3rem;
  margin-top: 3rem;
  border-top: 1px solid rgba(255,255,255,.12);
  color: #b9bfcb;
}

/* Focus styles */
:where(a, button, .button, .dropbtn) { outline: none }
:where(a, button, .button, .dropbtn):focus-visible { box-shadow: 0 0 0 3px rgba(255,255,255,.2), 0 0 0 6px rgba(255,255,255,.12); border-radius: 10px }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) { .button, .dropdown-content, .card { transition: none } }